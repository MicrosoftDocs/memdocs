---
title: Connected cache update for Microsoft Endpoint Configuration Manager version 2509
description: Console update for 2509
ms.date: 2/11/2026
ms.subservice: core-infra
ms.topic: reference
ms.collection: tier3
ms.assetid: 7a682d04-c2f2-4f59-81c5-1770736781f9
author: sccmavenger
ms.author: dannygu
manager: dougeby
---

# Connected cache update for Microsoft Endpoint Configuration Manager version 2409, 2503, and 2509

*Applies to: Configuration Manager (2409, 2503, and 2509)*
## Summary of KB33247081

An update is available to resolve the following issues with Configuration Manager current branch, version 2409, 2503, and 2509.

- Customers using the Microsoft Connected Cache behind a proxy servers that may require absolute URLs (URLs that contain the server name and requested resource path) and not relative URLs (URLs that contain only the path to the requested resource). This changes complies with HTTP RFC 2616 section 5.1.2: [RFC 2616 - Hypertext Transfer Protocol -- HTTP/1.1](https://datatracker.ietf.org/doc/html/rfc2616#section-5.1.2) and HTTP RFC 7230 section 5.3.2: [RFC 7230 - Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing](https://datatracker.ietf.org/doc/html/rfc7230#section-5.3.2).
- Organizations can now configure their Configuration Manager distribution point cache nodes to deliver content over HTTPS. This enhancement enables Connected Cache to support secure delivery of Intune-managed Win32 applications which will require delivery via https in the future and, for the first time, Microsoft Teams content. All other content types will continue to be delivered via HTTP.
To establish a secure HTTPS connection, Connected Cache distribution point cache nodes must present a valid TLS certificate to client devices. Unlike the process required to enable https delivery on Microsoft Connected Cache for Enterprise and Education, customers must use their PKI to generate the necessary certificates to be used for content delivery.
- Office content delivery (including updates and installations) OCDI compliant CDN endpoints have been added to the supported hostnames, including but not limited to: 
   - *static.microsoft
   - *fg.tscdn.m365.static.microsoft
   - *sb.teams.static.microsoft

## Update information for Microsoft Endpoint Configuration Manager, version 2409, 2503, and 2509
The following hotfix to resolve this problem is available for download from the Microsoft Download Center:

[Download this hotfix now]https://download.microsoft.com/download/ef20d1a6-82e7-49c8-9b7d-f47891cf27e3/DoincInstall.exe).

## Prerequisites
To apply this hotfix, you must be using Microsoft Endpoint Configuration Manager, versions 2409, 2503, and 2509.

Configure the Configuration Manager distribution point's IIS with your TLS certificate. Follow the instructions to [Example PKI certificate deployment - Configuration Manager | Microsoft Learn](../../core/plan-design/network/example-deployment-of-pki-certificates.md#BKMK_webserver2008_cm2012).

>*Please Note: Enhanced HTTP will not work for Microsoft Connected Cache content distribution.* When you enable Enhanced HTTP, the site server generates a self-signed certificate and is intended for client and ConfigMgr DP communications only.*

After you download this hotfix and confirmed the prerequisites, refer to the following installation instructions.

## Installation instructions
1. Confirm there is not currently an installation of the MCC component in progress. This is done by checking for status message **9522**, generated by the `SMS_DISTRIBUTION_MANAGER` component. The 9522 message indicates that installation is no longer being retried.
2. Copy the new version of `DoincInstall.exe`, version **1.5.5.9002**, to the `{SMSInstallDir}\bin\x64` folder on all site servers, including the Central Administration Site (CAS) if present, and any passive sites.
3. Uncheck the **Enable this distribution point to be used as Microsoft Connected Cache server** option in the affected distribution point’s properties.
4. Wait for the uninstall of MCC to complete on the distribution point. This can be confirmed by looking for a **9152** success status message, combined with the following entry in `distmgr.log`.
   ```text
   Finished waiting for DoincInstall. InvocationState: UninstallCompleted. InvocationExitCode: 0. InvocationMessage: .
   ```
5. Recheck the **Enable this distribution point to be used as Microsoft Connected Cache server** option for the affected distribution point.

   > For sites with a large number of distribution points, replace steps 3 - 5 above with the following.
   > - Create an empty file named `resetdps.trn` and place it in the `{SMSInstallDir}\inboxes\distmgr.box` folder. This will reinstall all distribution points for that site using the latest version of `DoincInstall.exe` copied in step 2. above.

7.	Wait for the installation to complete on the distribution point. This can be confirmed by looking for a 9152 success status message, combined with the following entry 

## Restart information
You don't have to restart the computer after you apply this hotfix.

## Verification Methods

>*Prerequisite*: Ensure that host machine is targeted via policy. If policy is not set on the device by ConfigMgr or Intune, then update the "DOCacheHost" policy to the IP address of FQDN of the Distribution Point where Connected Cache has been deployed:
 
   `$parentKeyPath = "HKLM:\SOFTWARE\Policies\Microsoft\Windows\DeliveryOptimization"
      if (!(Test-Path $parentKeyPath))
      {
         New-Item -Path $parentKeyPath -ItemType RegistryKey -Force -ErrorAction Stop | Out-Null
      }
      Set-ItemProperty -Path $parentKeyPath -Name "DOCacheHost" -Value "[DP IP Adddress or FQDN]" -ErrorAction Stop`
 
Request Teams app download from Connected Cache via HTTPS:

PowerShell:
 
   `Add-AppxPackage "https://statics.teams.cdn.office.net/production-windows-x64/enterprise/webview2/lkg/MSTeams-x64.msix"`

   OR

   `Add-AppxPackage "https://installer.teams.static.microsoft/production-windows-x64/25177.2002.3761.5185/MSTeams-x64.msix"`

Expected result: Download completes without error.
 
Verify that content is actually being cached (not just falling back to CDN):
 
`Get-DeliveryOptimizationStatus | Select-Object DownloadMode, TotalBytesDownloaded, BytesFromCacheServer`
 
Expected result: BytesFromCacheServer should be greater than 0, indicating successful caching.

> Please note: You may encounter a known issue where the Intune content is not cached until requested three time from the cache server. This is due to a known issue where the Intune CDN returns the VARY header on content requests which is an instruction to not cache content.

There are three possible results to determine whether https downloads from Microsoft Connected Cache are functioning properly:
1.	“CDN” and “DOINC” bytes are equal value. This means 100% of the bytes came from cache.
2.	“DOINC” bytes are zero. This means that 100% of the bytes came from CDN.
3.	“CDN” greater than “DOINC” bytes. This means partial bytes came from cache server.

## Hotfix replacement information
This hotfix replaces the following previously released hotfix.

[KB5001600 Microsoft Connected Cache component fails to install on Configuration Manager current branch](../../hotfix/2010/5001600.md)

## File information
File information is available in the downloadable [KB14978429_FileList.txt](https://aka.ms/KB14978429_FileList) text file.

## Release history
- February 18, 2026: Initial hotfix release